{"version":3,"sources":["MuiList.js"],"names":["React","useState","Icon","useI18n","NavLink","RouterLink","matchPath","useLocation","alpha","useTheme","styled","List","Collapse","ListItemText","ListItemIcon","ListSubheader","ListItemButton","ListSubheaderStyle","props","theme","typography","overline","marginTop","spacing","marginBottom","paddingLeft","color","palette","text","primary","ListItemStyle","body2","secondary","top","right","width","bottom","content","display","position","borderTopLeftRadius","borderBottomLeftRadius","backgroundColor","main","ListItemIconStyle","height","alignItems","justifyContent","MuiListItem","schema","factory","viewState","pathname","path","icon","info","items","isActiveRoot","end","open","setOpen","handleOpen","activeRootStyle","action","selectedOpacity","activeSubStyle","fontWeight","registry","__","T","map","item","isActiveSub","MuiList","template","selector","emptyContent","i18nModule","renderItem","renderView","data","section"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Icon, useI18n } from '@genx/react';\nimport {\n    NavLink as RouterLink,\n    matchPath,\n    useLocation,\n} from 'react-router-dom';\n\n// material\nimport { alpha, useTheme, styled } from '@mui/material/styles';\nimport {\n    List,\n    Collapse,\n    ListItemText,\n    ListItemIcon,\n    ListSubheader,\n    ListItemButton,\n} from '@mui/material';\n\n// ----------------------------------------------------------------------\n\nconst ListSubheaderStyle = styled((props) => (\n    <ListSubheader disableSticky disableGutters {...props} />\n))(({ theme }) => ({\n    ...theme.typography.overline,\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(2),\n    paddingLeft: theme.spacing(5),\n    color: theme.palette.text.primary,\n}));\n\nconst ListItemStyle = styled(ListItemButton)(({ theme }) => ({\n    ...theme.typography.body2,\n    'height': 48,\n    'position': 'relative',\n    'textTransform': 'capitalize',\n    'paddingLeft': theme.spacing(5),\n    'paddingRight': theme.spacing(2.5),\n    'color': theme.palette.text.secondary,\n    '&:before': {\n        top: 0,\n        right: 0,\n        width: 3,\n        bottom: 0,\n        content: \"''\",\n        display: 'none',\n        position: 'absolute',\n        borderTopLeftRadius: 4,\n        borderBottomLeftRadius: 4,\n        backgroundColor: theme.palette.primary.main,\n    },\n}));\n\nconst ListItemIconStyle = styled(ListItemIcon)({\n    width: 22,\n    height: 22,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n});\n\n// ----------------------------------------------------------------------\n\nconst MuiListItem = ({ schema, factory, viewState }) => {\n    const theme = useTheme();\n\n    const { pathname } = useLocation();\n    const { path, icon, info, items } = schema;\n    const isActiveRoot = path\n        ? !!matchPath({ path, end: false }, pathname)\n        : false;\n\n    const [open, setOpen] = useState(isActiveRoot);\n\n    const handleOpen = () => {\n        setOpen(!open);\n    };\n\n    const activeRootStyle = {\n        'color': 'primary.main',\n        'fontWeight': 'fontWeightMedium',\n        'bgcolor': alpha(\n            theme.palette.primary.main,\n            theme.palette.action.selectedOpacity\n        ),\n        '&:before': { display: 'block' },\n    };\n\n    const activeSubStyle = {\n        color: 'text.primary',\n        fontWeight: 'fontWeightMedium',\n    };\n\n    if (items) {\n        return (\n            <>\n                <ListItemStyle\n                    onClick={handleOpen}\n                    sx={{\n                        ...(isActiveRoot && activeRootStyle),\n                    }}\n                >\n                    <ListItemIconStyle>\n                        {icon && (\n                            <Icon _registry={factory.registry} {...icon} />\n                        )}\n                    </ListItemIconStyle>\n\n                    {\n                        <>\n                            <ListItemText\n                                disableTypography\n                                primary={viewState.__.T(path)}\n                            />\n                            {info}\n                            {icon && (\n                                <Icon _registry={factory.registry} {...icon} />\n                            )}\n                        </>\n                    }\n                </ListItemStyle>\n\n                {\n                    <Collapse in={open} timeout=\"auto\" unmountOnExit>\n                        <List component=\"div\" disablePadding>\n                            {items.map((item) => {\n                                const { path, icon } = item;\n                                const isActiveSub = path\n                                    ? !!matchPath(\n                                          { path, end: false },\n                                          pathname\n                                      )\n                                    : false;\n\n                                return (\n                                    <ListItemStyle\n                                        key={path}\n                                        component={RouterLink}\n                                        to={path}\n                                        sx={{\n                                            ...(isActiveSub && activeSubStyle),\n                                        }}\n                                    >\n                                        <ListItemIconStyle>\n                                            {icon && (\n                                                <Icon\n                                                    _registry={factory.registry}\n                                                    {...icon}\n                                                />\n                                            )}\n                                        </ListItemIconStyle>\n                                        <ListItemText\n                                            disableTypography\n                                            primary={viewState.__.T(path)}\n                                        />\n                                    </ListItemStyle>\n                                );\n                            })}\n                        </List>\n                    </Collapse>\n                }\n            </>\n        );\n    }\n\n    return (\n        <ListItemStyle\n            component={RouterLink}\n            to={path}\n            sx={{\n                ...(isActiveRoot && activeRootStyle),\n            }}\n        >\n            <ListItemIconStyle>\n                {icon && <Icon _registry={factory.registry} {...icon} />}\n            </ListItemIconStyle>\n            {\n                <>\n                    <ListItemText\n                        disableTypography\n                        primary={viewState.__.T(path)}\n                    />\n                    {info}\n                </>\n            }\n        </ListItemStyle>\n    );\n};\n\nexport default function MuiList({ schema, factory, viewState }) {\n    const { items, template, selector, emptyContent, props } = schema;\n    const __ = useI18n(viewState.i18nModule);\n\n    const renderItem = ({ item }) =>\n        template ? (\n            factory.renderView(\n                {\n                    ...template,\n                    data: item,\n                },\n                viewState\n            )\n        ) : (\n            <MuiListItem\n                __={__}\n                schema={item}\n                factory={factory}\n                viewState={viewState}\n            />\n        );\n\n    return (\n        <>\n            {items.map((item) => {\n                if (item.section) {\n                    return (\n                        <List key={item.section} disablePadding>\n                            {\n                                <ListSubheaderStyle>\n                                    {__.T(item.section)}\n                                </ListSubheaderStyle>\n                            }\n                            {item.items.map((item) => renderItem(item))}\n                        </List>\n                    );\n                }\n\n                return renderItem(item);\n            })}\n        </>\n    );\n}\n"]}