{"version":3,"sources":["NativeViewLazy.js"],"names":["React","useEffect","useRef","AppRegistry","ErrorBoundary","ErrorFallback","Runtime","idCounter","NativeView","view","props","myCounter","current","rootTag","document","getElementById","registerComponent","runApplication","unmountApplicationComponentAtRootTag","onError"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,aAAT,QAA8B,sBAA9B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,OAAP,MAAoB,qBAApB;AAEA,IAAIC,SAAS,GAAG,CAAhB;AAEA,eAAe,SAASC,UAAT,CAAoB;AAAEC,EAAAA,IAAF;AAAQ,KAAGC;AAAX,CAApB,EAAwC;AACnD,QAAMC,SAAS,GAAGT,MAAM,CAAC,IAAD,CAAxB;;AACA,MAAIS,SAAS,CAACC,OAAV,IAAqB,IAAzB,EAA+B;AAC3BD,IAAAA,SAAS,CAACC,OAAV,kBAA4BL,SAA5B;AACAA,IAAAA,SAAS,GAFkB,CAG3B;AACA;AACH;;AAEDN,EAAAA,SAAS,CACL,MAAM;AACF,UAAMY,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwBJ,SAAS,CAACC,OAAlC,CAAhB;AAEAT,IAAAA,WAAW,CAACa,iBAAZ,CAA8BL,SAAS,CAACC,OAAxC,EAAiD,MAAMH,IAAvD;AACAN,IAAAA,WAAW,CAACc,cAAZ,CAA2BN,SAAS,CAACC,OAArC,EAA8C,EAC1C,GAAGF,KADuC;AAE1CG,MAAAA;AAF0C,KAA9C;AAKA,WAAO,MAAM;AACTV,MAAAA,WAAW,CAACe,oCAAZ,CAAiDL,OAAjD;AACH,KAFD;AAGH,GAbI;AAcL;AACA;AACA;AAhBK,GAAT;AAmBA,sBACI,oBAAC,aAAD;AACI,IAAA,iBAAiB,EAAER,aADvB;AAEI,IAAA,OAAO,EAAEC,OAAO,CAACa;AAFrB,kBAII;AAAK,IAAA,EAAE,EAAER,SAAS,CAACC;AAAnB,IAJJ,CADJ;AAQH","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { AppRegistry } from 'react-native-web';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport ErrorFallback from './ErrorFallback';\nimport Runtime from '../../runtimeConfig';\n\nlet idCounter = 0;\n\nexport default function NativeView({ view, ...props }) {\n    const myCounter = useRef(null);\n    if (myCounter.current == null) {\n        myCounter.current = `gx_nv${idCounter}`;\n        idCounter++;\n        // myCounter.current used below will appear +1 larger than expected, not sure why\n        // even though, log output here is correct, to follow up\n    }\n\n    useEffect(\n        () => {\n            const rootTag = document.getElementById(myCounter.current);\n\n            AppRegistry.registerComponent(myCounter.current, () => view);\n            AppRegistry.runApplication(myCounter.current, {\n                ...props,\n                rootTag,\n            });\n\n            return () => {\n                AppRegistry.unmountApplicationComponentAtRootTag(rootTag);\n            };\n        },\n        /* eslint-disable react-hooks/exhaustive-deps */\n        []\n        /* eslint-enable react-hooks/exhaustive-deps */\n    );\n\n    return (\n        <ErrorBoundary\n            FallbackComponent={ErrorFallback}\n            onError={Runtime.onError}\n        >\n            <div id={myCounter.current} />\n        </ErrorBoundary>\n    );\n}\n"]}