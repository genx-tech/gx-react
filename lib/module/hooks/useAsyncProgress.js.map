{"version":3,"sources":["useAsyncProgress.js"],"names":["useCallback","useEffect","useAsyncCallback","useAsyncProgress","fn","deps","state","callback","applyChange","setProgress","progress"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,SAAtB,QAAuC,OAAvC;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AAEA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,gBAAT,CAA0BC,EAA1B,EAA8BC,IAA9B,EAAoC;AAC/C,QAAM,CAACC,KAAD,EAAQC,QAAR,EAAkBC,WAAlB,IAAiCN,gBAAgB,CAACE,EAAD,EAAKC,IAAL,EAAW,IAAX,CAAvD;AACA,QAAMI,WAAW,GAAGT,WAAW,CAC1BU,QAAD,IAAc;AACVF,IAAAA,WAAW,CAAC;AAAEE,MAAAA;AAAF,KAAD,CAAX;AACH,GAH0B,EAI3B,CAACF,WAAD,CAJ2B,CAA/B;AAOAP,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,QAAQ,CAACE,WAAD,CAAR;AACH,GAFQ,EAEN,CAACF,QAAD,EAAWE,WAAX,CAFM,CAAT;AAIA,SAAOH,KAAP;AACH","sourcesContent":["import { useCallback, useEffect } from 'react';\nimport useAsyncCallback from './useAsyncCallback';\n\n/**\n * React hook that returns a state with shape { value, error, loading } of which the value is returned by an async function. Just like async version of useMemo.\n * @param {*} fn\n * @param {*} deps\n */\nexport default function useAsyncProgress(fn, deps) {\n    const [state, callback, applyChange] = useAsyncCallback(fn, deps, true);\n    const setProgress = useCallback(\n        (progress) => {\n            applyChange({ progress });\n        },\n        [applyChange]\n    );\n\n    useEffect(() => {\n        callback(setProgress);\n    }, [callback, setProgress]);\n\n    return state;\n}\n"]}