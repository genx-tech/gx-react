{"version":3,"sources":["NativeViewLazy.js"],"names":["idCounter","NativeView","view","props","myCounter","current","rootTag","document","getElementById","AppRegistry","registerComponent","runApplication","unmountApplicationComponentAtRootTag","ErrorFallback","Runtime","onError"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAEA,IAAIA,SAAS,GAAG,CAAhB;;AAEe,SAASC,UAAT,CAAoB;AAAEC,EAAAA,IAAF;AAAQ,KAAGC;AAAX,CAApB,EAAwC;AACnD,QAAMC,SAAS,GAAG,mBAAO,IAAP,CAAlB;;AACA,MAAIA,SAAS,CAACC,OAAV,IAAqB,IAAzB,EAA+B;AAC3BD,IAAAA,SAAS,CAACC,OAAV,kBAA4BL,SAA5B;AACAA,IAAAA,SAAS,GAFkB,CAG3B;AACA;AACH;;AAED,wBACI,MAAM;AACF,UAAMM,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwBJ,SAAS,CAACC,OAAlC,CAAhB;;AAEAI,gCAAYC,iBAAZ,CAA8BN,SAAS,CAACC,OAAxC,EAAiD,MAAMH,IAAvD;;AACAO,gCAAYE,cAAZ,CAA2BP,SAAS,CAACC,OAArC,EAA8C,EAC1C,GAAGF,KADuC;AAE1CG,MAAAA;AAF0C,KAA9C;;AAKA,WAAO,MAAM;AACTG,kCAAYG,oCAAZ,CAAiDN,OAAjD;AACH,KAFD;AAGH,GAbL;AAcI;AACA;AACA;AAhBJ;AAmBA,sBACI,6BAAC,iCAAD;AACI,IAAA,iBAAiB,EAAEO,sBADvB;AAEI,IAAA,OAAO,EAAEC,uBAAQC;AAFrB,kBAII;AAAK,IAAA,EAAE,EAAEX,SAAS,CAACC;AAAnB,IAJJ,CADJ;AAQH","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { AppRegistry } from 'react-native-web';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport ErrorFallback from './ErrorFallback';\nimport Runtime from '../../runtimeConfig';\n\nlet idCounter = 0;\n\nexport default function NativeView({ view, ...props }) {\n    const myCounter = useRef(null);\n    if (myCounter.current == null) {\n        myCounter.current = `gx_nv${idCounter}`;\n        idCounter++;\n        // myCounter.current used below will appear +1 larger than expected, not sure why\n        // even though, log output here is correct, to follow up\n    }\n\n    useEffect(\n        () => {\n            const rootTag = document.getElementById(myCounter.current);\n\n            AppRegistry.registerComponent(myCounter.current, () => view);\n            AppRegistry.runApplication(myCounter.current, {\n                ...props,\n                rootTag,\n            });\n\n            return () => {\n                AppRegistry.unmountApplicationComponentAtRootTag(rootTag);\n            };\n        },\n        /* eslint-disable react-hooks/exhaustive-deps */\n        []\n        /* eslint-enable react-hooks/exhaustive-deps */\n    );\n\n    return (\n        <ErrorBoundary\n            FallbackComponent={ErrorFallback}\n            onError={Runtime.onError}\n        >\n            <div id={myCounter.current} />\n        </ErrorBoundary>\n    );\n}\n"]}