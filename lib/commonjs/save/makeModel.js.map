{"version":3,"sources":["makeModel.js"],"names":["model","props","context","state","entries","forEach","name","initValue","stateValue","setState","React","useState","Object","defineProperty","get","set","newValue","enumerable","modelInstance","getValue","defaultValue"],"mappings":";;;;;;;AAAA;;AACA;;;;eAEe,CAACA,KAAD,EAAQC,KAAR,KAAmBC,OAAD,IAAa;AAC1C,QAAMC,KAAK,GAAG,EAAd;AAEAH,EAAAA,KAAK,CAACG,KAAN,IACIH,KAAK,CAACG,KAAN,CAAYC,OAAZ,CAAoBC,OAApB,CAA4B,CAAC,CAACC,IAAD,EAAOC,SAAP,CAAD,KAAuB;AAC/C,UAAM,CAACC,UAAD,EAAaC,QAAb,IAAyBC,eAAMC,QAAN,CAAeJ,SAAf,CAA/B;;AACAK,IAAAA,MAAM,CAACC,cAAP,CAAsBV,KAAtB,EAA6BG,IAA7B,EAAmC;AAC/BQ,MAAAA,GAAG,EAAE,MAAMN,UADoB;AAE/BO,MAAAA,GAAG,EAAGC,QAAD,IAAcP,QAAQ,CAACO,QAAD,CAFI;AAG/BC,MAAAA,UAAU,EAAE;AAHmB,KAAnC;AAKH,GAPD,CADJ;AAUA,QAAMC,aAAa,GAAG;AAClBC,IAAAA,QAAQ,EAAE,CAACb,IAAD,EAAOc,YAAP,KACN,kBAAIF,aAAJ,EAAmBZ,IAAnB,EAAyBc,YAAzB,CAFc;AAGlBnB,IAAAA,KAHkB;AAIlBE,IAAAA,KAJkB;AAKlBD,IAAAA;AALkB,GAAtB;AAQA,SAAOgB,aAAP;AACH,C","sourcesContent":["import React from 'react';\nimport get from 'lodash/get';\n\nexport default (model, props) => (context) => {\n    const state = {};\n\n    model.state &&\n        model.state.entries.forEach(([name, initValue]) => {\n            const [stateValue, setState] = React.useState(initValue);\n            Object.defineProperty(state, name, {\n                get: () => stateValue,\n                set: (newValue) => setState(newValue),\n                enumerable: true,\n            });\n        });\n\n    const modelInstance = {\n        getValue: (name, defaultValue) =>\n            get(modelInstance, name, defaultValue),\n        props,\n        state,\n        context,\n    };\n\n    return modelInstance;\n};\n"]}